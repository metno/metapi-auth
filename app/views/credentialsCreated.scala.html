@()(implicit flash: Flash, request: RequestHeader)
@import helper._

<!DOCTYPE html>
<html>
<head>
<title>Client credentials created</title>
</head>

<body>

  <h1>Client credentials created</h1>

  <p>New client credentials have been successfully created for user @flash.get("user"). Your client identifier is</p>

  <code id='key'>@flash.get("id")</code>

  <p>... and your client secret is</p>

  <code id='secret'>@flash.get("secret")</code>

  <p>You can use these credentials to access a protected data.met.no web service
  using the OAuth 2.0 Client Credentials Flow:</p>

  <h2>Get access token</h2>

  <p>A new access token is generated by sending an HTTPS POST request to data.met.no/auth/requestAccessToken with body:</p>

  <code>
    grant_type=client_credentials&client_id=@flash.get("id")&client_secret=@flash.get("secret")
  </code>

  <p>... and with <code>Content-Type: application/x-www-form-urlencoded</code> set in the header.</p>

  <p>Using <em>curl</em>, you can get an access token using this command:</p>

  <code>curl -d'grant_type=client_credentials&client_id=@flash.get("id")&client_secret=@flash.get("secret")' data.met.no/auth/requestAccessToken</code>

  <h2>Use access token</h2>

 <p>The previous step generates a JSON document that contains an access token valid for a limited period of time.
 When requesting data from data.met.no, add the following header to your request:</p>

 <code>
   Authorization: Bearer TOKEN
 </code>

  <p>...where TOKEN is the access token.</p>

  <p>Once the access token has expired, you may simply request a new one to keep accessing data from the server.</p>

</body>
</html>
